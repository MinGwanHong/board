<!DOCTYPE html>
<html>
 <head>
  <%- include('../partials/head') %>
 </head>
 <body>
  <%- include('../partials/nav') %>

  <div class="container post post-index">
   <%- include('../partials/header') %>

   <div class="buttons">
    <a class="btn btn-default" href="/posts/new">New</a>
   </div>

   <table class="board-table table table-sm border-bottom">

      <thead class="thead-light">
        <tr>
          <th scope="col">Title</th>
          <th scope="col" class="author">Author</th> <!-- 1 -->
          <th scope="col" class="date">Date</th>
        </tr>
      </thead>

      <tbody>
        <% if(posts == null || posts.length == 0){ %>
          <tr>
            <td colspan=100> There is no data to show :( </td>
          </tr>
        <% } %>
        <% posts.forEach(function(post) { %>
          <tr>
            <td>
              <a href="/posts/<%= post._id %>"><div class="ellipsis"><%= post.title %></div></a>
            </td>
            <td class="author"> <!-- 2 -->
              <div class="ellipsis"><%= post.author ? post.author.username : "" %></div>
            </td>
            <td class="date">
              <span data-date="<%= post.createdAt %>"><%= post.createdAt %></span>
            </td>
          </tr>
        <% }) %>
      </tbody>

    </table>
  </div> <!-- container end -->
 </body>
</html>
